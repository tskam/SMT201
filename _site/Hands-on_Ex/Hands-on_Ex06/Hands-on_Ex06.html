<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ad0000; } /* Alert */
code span.an { color: #5e5e5e; } /* Annotation */
code span.at { color: #20794d; } /* Attribute */
code span.bn { color: #ad0000; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007ba5; } /* ControlFlow */
code span.ch { color: #20794d; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #5e5e5e; } /* Comment */
code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
code span.dt { color: #ad0000; } /* DataType */
code span.dv { color: #ad0000; } /* DecVal */
code span.er { color: #ad0000; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #ad0000; } /* Float */
code span.fu { color: #4758ab; } /* Function */
code span.im { } /* Import */
code span.in { color: #5e5e5e; } /* Information */
code span.kw { color: #007ba5; } /* Keyword */
code span.op { color: #5e5e5e; } /* Operator */
code span.ot { color: #007ba5; } /* Other */
code span.pp { color: #ad0000; } /* Preprocessor */
code span.sc { color: #20794d; } /* SpecialChar */
code span.ss { color: #20794d; } /* SpecialString */
code span.st { color: #20794d; } /* String */
code span.va { color: #111111; } /* Variable */
code span.vs { color: #20794d; } /* VerbatimString */
code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
</style>

  <!--radix_placeholder_meta_tags-->
  <title>Hands-on Exercise 6: Beyond Mapping: Vector-based GIS Analysis</title>

  <meta property="description" itemprop="description" content="In this hands-on exercise, you will learn how to perform vector-based geoprocessing and GIS analysis by using QGIS.  By the end of this session, you will be able to: (i) prepare GIS layers by using appropriate geoprocessing functions of QGIS, (ii ) delineate trade areas by using appropriate proximity analysis and overlay functions of QGIS, and (iii) analyse trade areas using spatial overlay functions of QGIS."/>


  <!--  https://schema.org/Article -->
  <meta property="article:published" itemprop="datePublished" content="2021-09-19"/>
  <meta property="article:created" itemprop="dateCreated" content="2021-09-19"/>

  <!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
  <meta property="og:title" content="Hands-on Exercise 6: Beyond Mapping: Vector-based GIS Analysis"/>
  <meta property="og:type" content="article"/>
  <meta property="og:description" content="In this hands-on exercise, you will learn how to perform vector-based geoprocessing and GIS analysis by using QGIS.  By the end of this session, you will be able to: (i) prepare GIS layers by using appropriate geoprocessing functions of QGIS, (ii ) delineate trade areas by using appropriate proximity analysis and overlay functions of QGIS, and (iii) analyse trade areas using spatial overlay functions of QGIS."/>
  <meta property="og:locale" content="en_US"/>

  <!--  https://dev.twitter.com/cards/types/summary -->
  <meta property="twitter:card" content="summary"/>
  <meta property="twitter:title" content="Hands-on Exercise 6: Beyond Mapping: Vector-based GIS Analysis"/>
  <meta property="twitter:description" content="In this hands-on exercise, you will learn how to perform vector-based geoprocessing and GIS analysis by using QGIS.  By the end of this session, you will be able to: (i) prepare GIS layers by using appropriate geoprocessing functions of QGIS, (ii ) delineate trade areas by using appropriate proximity analysis and overlay functions of QGIS, and (iii) analyse trade areas using spatial overlay functions of QGIS."/>

  <!--/radix_placeholder_meta_tags-->
  <!--radix_placeholder_rmarkdown_metadata-->

  <script type="text/json" id="radix-rmarkdown-metadata">
  {"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","date","output"]}},"value":[{"type":"character","attributes":{},"value":["Hands-on Exercise 6: Beyond Mapping: Vector-based GIS Analysis"]},{"type":"character","attributes":{},"value":["In this hands-on exercise, you will learn how to perform vector-based geoprocessing and GIS analysis by using QGIS.  By the end of this session, you will be able to: (i) prepare GIS layers by using appropriate geoprocessing functions of QGIS, (ii ) delineate trade areas by using appropriate proximity analysis and overlay functions of QGIS, and (iii) analyse trade areas using spatial overlay functions of QGIS.\n"]},{"type":"character","attributes":{},"value":["2021-09-19"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["code_folding","toc","toc_depth","self_contained"]}},"value":[{"type":"logical","attributes":{},"value":[false]},{"type":"logical","attributes":{},"value":[true]},{"type":"integer","attributes":{},"value":[4]},{"type":"logical","attributes":{},"value":[false]}]}]}]}
  </script>
  <!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"character","attributes":{},"value":["Hands-on_Ex06_files/anchor-4.2.2/anchor.min.js","Hands-on_Ex06_files/bowser-1.9.3/bowser.min.js","Hands-on_Ex06_files/distill-2.2.21/template.v2.js","Hands-on_Ex06_files/header-attrs-2.10/header-attrs.js","Hands-on_Ex06_files/jquery-1.11.3/jquery.min.js","Hands-on_Ex06_files/popper-2.6.0/popper.min.js","Hands-on_Ex06_files/tippy-6.2.7/tippy-bundle.umd.min.js","Hands-on_Ex06_files/tippy-6.2.7/tippy-light-border.css","Hands-on_Ex06_files/tippy-6.2.7/tippy.css","Hands-on_Ex06_files/tippy-6.2.7/tippy.umd.min.js","Hands-on_Ex06_files/webcomponents-2.0.0/webcomponents.js","img/image1.jpg","img/image10.jpg","img/image11.jpg","img/image12.jpg","img/image13.jpg","img/image14.jpg","img/image15.jpg","img/image16.jpg","img/image17.jpg","img/image18.jpg","img/image19.jpg","img/image2.jpg","img/image20.jpg","img/image21.jpg","img/image22.jpg","img/image23.jpg","img/image24.jpg","img/image25.jpg","img/image26.jpg","img/image27.jpg","img/image28.jpg","img/image3.jpg","img/image4.jpg","img/image5.jpg","img/image6.jpg","img/image7.jpg","img/image8.jpg","img/image9.jpg"]}
  </script>
  <!--radix_placeholder_navigation_in_header-->
  <!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

  <style type="text/css">

  body {
    background-color: white;
  }

  .pandoc-table {
    width: 100%;
  }

  .pandoc-table>caption {
    margin-bottom: 10px;
  }

  .pandoc-table th:not([align]) {
    text-align: left;
  }

  .pagedtable-footer {
    font-size: 15px;
  }

  d-byline .byline {
    grid-template-columns: 2fr 2fr;
  }

  d-byline .byline h3 {
    margin-block-start: 1.5em;
  }

  d-byline .byline .authors-affiliations h3 {
    margin-block-start: 0.5em;
  }

  .authors-affiliations .orcid-id {
    width: 16px;
    height:16px;
    margin-left: 4px;
    margin-right: 4px;
    vertical-align: middle;
    padding-bottom: 2px;
  }

  d-title .dt-tags {
    margin-top: 1em;
    grid-column: text;
  }

  .dt-tags .dt-tag {
    text-decoration: none;
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0em 0.4em;
    margin-right: 0.5em;
    margin-bottom: 0.4em;
    font-size: 70%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  d-article table.gt_table td,
  d-article table.gt_table th {
    border-bottom: none;
  }

  .html-widget {
    margin-bottom: 2.0em;
  }

  .l-screen-inset {
    padding-right: 16px;
  }

  .l-screen .caption {
    margin-left: 10px;
  }

  .shaded {
    background: rgb(247, 247, 247);
    padding-top: 20px;
    padding-bottom: 20px;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .html-widget {
    margin-bottom: 0;
    border: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .shaded-content {
    background: white;
  }

  .text-output {
    margin-top: 0;
    line-height: 1.5em;
  }

  .hidden {
    display: none !important;
  }

  d-article {
    padding-top: 2.5rem;
    padding-bottom: 30px;
  }

  d-appendix {
    padding-top: 30px;
  }

  d-article>p>img {
    width: 100%;
  }

  d-article h2 {
    margin: 1rem 0 1.5rem 0;
  }

  d-article h3 {
    margin-top: 1.5rem;
  }

  d-article iframe {
    border: 1px solid rgba(0, 0, 0, 0.1);
    margin-bottom: 2.0em;
    width: 100%;
  }

  /* Tweak code blocks */

  d-article div.sourceCode code,
  d-article pre code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: auto;
  }

  d-article div.sourceCode {
    background-color: white;
  }

  d-article div.sourceCode pre {
    padding-left: 10px;
    font-size: 12px;
    border-left: 2px solid rgba(0,0,0,0.1);
  }

  d-article pre {
    font-size: 12px;
    color: black;
    background: none;
    margin-top: 0;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  d-article pre a {
    border-bottom: none;
  }

  d-article pre a:hover {
    border-bottom: none;
    text-decoration: underline;
  }

  d-article details {
    grid-column: text;
    margin-bottom: 0.8em;
  }

  @media(min-width: 768px) {

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: visible !important;
  }

  d-article div.sourceCode pre {
    padding-left: 18px;
    font-size: 14px;
  }

  d-article pre {
    font-size: 14px;
  }

  }

  figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  /* CSS for d-contents */

  .d-contents {
    grid-column: text;
    color: rgba(0,0,0,0.8);
    font-size: 0.9em;
    padding-bottom: 1em;
    margin-bottom: 1em;
    padding-bottom: 0.5em;
    margin-bottom: 1em;
    padding-left: 0.25em;
    justify-self: start;
  }

  @media(min-width: 1000px) {
    .d-contents.d-contents-float {
      height: 0;
      grid-column-start: 1;
      grid-column-end: 4;
      justify-self: center;
      padding-right: 3em;
      padding-left: 2em;
    }
  }

  .d-contents nav h3 {
    font-size: 18px;
    margin-top: 0;
    margin-bottom: 1em;
  }

  .d-contents li {
    list-style-type: none
  }

  .d-contents nav > ul {
    padding-left: 0;
  }

  .d-contents ul {
    padding-left: 1em
  }

  .d-contents nav ul li {
    margin-top: 0.6em;
    margin-bottom: 0.2em;
  }

  .d-contents nav a {
    font-size: 13px;
    border-bottom: none;
    text-decoration: none
    color: rgba(0, 0, 0, 0.8);
  }

  .d-contents nav a:hover {
    text-decoration: underline solid rgba(0, 0, 0, 0.6)
  }

  .d-contents nav > ul > li > a {
    font-weight: 600;
  }

  .d-contents nav > ul > li > ul {
    font-weight: inherit;
  }

  .d-contents nav > ul > li > ul > li {
    margin-top: 0.2em;
  }


  .d-contents nav ul {
    margin-top: 0;
    margin-bottom: 0.25em;
  }

  .d-article-with-toc h2:nth-child(2) {
    margin-top: 0;
  }


  /* Figure */

  .figure {
    position: relative;
    margin-bottom: 2.5em;
    margin-top: 1.5em;
  }

  .figure img {
    width: 100%;
  }

  .figure .caption {
    color: rgba(0, 0, 0, 0.6);
    font-size: 12px;
    line-height: 1.5em;
  }

  .figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  .figure .caption a {
    color: rgba(0, 0, 0, 0.6);
  }

  .figure .caption b,
  .figure .caption strong, {
    font-weight: 600;
    color: rgba(0, 0, 0, 1.0);
  }

  /* Citations */

  d-article .citation {
    color: inherit;
    cursor: inherit;
  }

  div.hanging-indent{
    margin-left: 1em; text-indent: -1em;
  }

  /* Citation hover box */

  .tippy-box[data-theme~=light-border] {
    background-color: rgba(250, 250, 250, 0.95);
  }

  .tippy-content > p {
    margin-bottom: 0;
    padding: 2px;
  }


  /* Tweak 1000px media break to show more text */

  @media(min-width: 1000px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 16px;
    }

    .grid {
      grid-column-gap: 16px;
    }

    d-article {
      font-size: 1.06rem;
      line-height: 1.7em;
    }
    figure .caption, .figure .caption, figure figcaption {
      font-size: 13px;
    }
  }

  @media(min-width: 1180px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 32px;
    }

    .grid {
      grid-column-gap: 32px;
    }
  }


  /* Get the citation styles for the appendix (not auto-injected on render since
     we do our own rendering of the citation appendix) */

  d-appendix .citation-appendix,
  .d-appendix .citation-appendix {
    font-size: 11px;
    line-height: 15px;
    border-left: 1px solid rgba(0, 0, 0, 0.1);
    padding-left: 18px;
    border: 1px solid rgba(0,0,0,0.1);
    background: rgba(0, 0, 0, 0.02);
    padding: 10px 18px;
    border-radius: 3px;
    color: rgba(150, 150, 150, 1);
    overflow: hidden;
    margin-top: -12px;
    white-space: pre-wrap;
    word-wrap: break-word;
  }

  /* Include appendix styles here so they can be overridden */

  d-appendix {
    contain: layout style;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-top: 60px;
    margin-bottom: 0;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    color: rgba(0,0,0,0.5);
    padding-top: 60px;
    padding-bottom: 48px;
  }

  d-appendix h3 {
    grid-column: page-start / text-start;
    font-size: 15px;
    font-weight: 500;
    margin-top: 1em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.65);
  }

  d-appendix h3 + * {
    margin-top: 1em;
  }

  d-appendix ol {
    padding: 0 0 0 15px;
  }

  @media (min-width: 768px) {
    d-appendix ol {
      padding: 0 0 0 30px;
      margin-left: -30px;
    }
  }

  d-appendix li {
    margin-bottom: 1em;
  }

  d-appendix a {
    color: rgba(0, 0, 0, 0.6);
  }

  d-appendix > * {
    grid-column: text;
  }

  d-appendix > d-footnote-list,
  d-appendix > d-citation-list,
  d-appendix > distill-appendix {
    grid-column: screen;
  }

  /* Include footnote styles here so they can be overridden */

  d-footnote-list {
    contain: layout style;
  }

  d-footnote-list > * {
    grid-column: text;
  }

  d-footnote-list a.footnote-backlink {
    color: rgba(0,0,0,0.3);
    padding-left: 0.5em;
  }



  /* Anchor.js */

  .anchorjs-link {
    /*transition: all .25s linear; */
    text-decoration: none;
    border-bottom: none;
  }
  *:hover > .anchorjs-link {
    margin-left: -1.125em !important;
    text-decoration: none;
    border-bottom: none;
  }

  /* Social footer */

  .social_footer {
    margin-top: 30px;
    margin-bottom: 0;
    color: rgba(0,0,0,0.67);
  }

  .disqus-comments {
    margin-right: 30px;
  }

  .disqus-comment-count {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
    cursor: pointer;
  }

  #disqus_thread {
    margin-top: 30px;
  }

  .article-sharing a {
    border-bottom: none;
    margin-right: 8px;
  }

  .article-sharing a:hover {
    border-bottom: none;
  }

  .sidebar-section.subscribe {
    font-size: 12px;
    line-height: 1.6em;
  }

  .subscribe p {
    margin-bottom: 0.5em;
  }


  .article-footer .subscribe {
    font-size: 15px;
    margin-top: 45px;
  }


  .sidebar-section.custom {
    font-size: 12px;
    line-height: 1.6em;
  }

  .custom p {
    margin-bottom: 0.5em;
  }

  /* Styles for listing layout (hide title) */
  .layout-listing d-title, .layout-listing .d-title {
    display: none;
  }

  /* Styles for posts lists (not auto-injected) */


  .posts-with-sidebar {
    padding-left: 45px;
    padding-right: 45px;
  }

  .posts-list .description h2,
  .posts-list .description p {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  }

  .posts-list .description h2 {
    font-weight: 700;
    border-bottom: none;
    padding-bottom: 0;
  }

  .posts-list h2.post-tag {
    border-bottom: 1px solid rgba(0, 0, 0, 0.2);
    padding-bottom: 12px;
  }
  .posts-list {
    margin-top: 60px;
    margin-bottom: 24px;
  }

  .posts-list .post-preview {
    text-decoration: none;
    overflow: hidden;
    display: block;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    padding: 24px 0;
  }

  .post-preview-last {
    border-bottom: none !important;
  }

  .posts-list .posts-list-caption {
    grid-column: screen;
    font-weight: 400;
  }

  .posts-list .post-preview h2 {
    margin: 0 0 6px 0;
    line-height: 1.2em;
    font-style: normal;
    font-size: 24px;
  }

  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.4em;
    font-size: 16px;
  }

  .posts-list .post-preview .thumbnail {
    box-sizing: border-box;
    margin-bottom: 24px;
    position: relative;
    max-width: 500px;
  }
  .posts-list .post-preview img {
    width: 100%;
    display: block;
  }

  .posts-list .metadata {
    font-size: 12px;
    line-height: 1.4em;
    margin-bottom: 18px;
  }

  .posts-list .metadata > * {
    display: inline-block;
  }

  .posts-list .metadata .publishedDate {
    margin-right: 2em;
  }

  .posts-list .metadata .dt-authors {
    display: block;
    margin-top: 0.3em;
    margin-right: 2em;
  }

  .posts-list .dt-tags {
    display: block;
    line-height: 1em;
  }

  .posts-list .dt-tags .dt-tag {
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0.3em 0.4em;
    margin-right: 0.2em;
    margin-bottom: 0.4em;
    font-size: 60%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  .posts-list img {
    opacity: 1;
  }

  .posts-list img[data-src] {
    opacity: 0;
  }

  .posts-more {
    clear: both;
  }


  .posts-sidebar {
    font-size: 16px;
  }

  .posts-sidebar h3 {
    font-size: 16px;
    margin-top: 0;
    margin-bottom: 0.5em;
    font-weight: 400;
    text-transform: uppercase;
  }

  .sidebar-section {
    margin-bottom: 30px;
  }

  .categories ul {
    list-style-type: none;
    margin: 0;
    padding: 0;
  }

  .categories li {
    color: rgba(0, 0, 0, 0.8);
    margin-bottom: 0;
  }

  .categories li>a {
    border-bottom: none;
  }

  .categories li>a:hover {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  }

  .categories .active {
    font-weight: 600;
  }

  .categories .category-count {
    color: rgba(0, 0, 0, 0.4);
  }


  @media(min-width: 768px) {
    .posts-list .post-preview h2 {
      font-size: 26px;
    }
    .posts-list .post-preview .thumbnail {
      float: right;
      width: 30%;
      margin-bottom: 0;
    }
    .posts-list .post-preview .description {
      float: left;
      width: 45%;
    }
    .posts-list .post-preview .metadata {
      float: left;
      width: 20%;
      margin-top: 8px;
    }
    .posts-list .post-preview p {
      margin: 0 0 12px 0;
      line-height: 1.5em;
      font-size: 16px;
    }
    .posts-with-sidebar .posts-list {
      float: left;
      width: 75%;
    }
    .posts-with-sidebar .posts-sidebar {
      float: right;
      width: 20%;
      margin-top: 60px;
      padding-top: 24px;
      padding-bottom: 24px;
    }
  }


  /* Improve display for browsers without grid (IE/Edge <= 15) */

  .downlevel {
    line-height: 1.6em;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
    margin: 0;
  }

  .downlevel .d-title {
    padding-top: 6rem;
    padding-bottom: 1.5rem;
  }

  .downlevel .d-title h1 {
    font-size: 50px;
    font-weight: 700;
    line-height: 1.1em;
    margin: 0 0 0.5rem;
  }

  .downlevel .d-title p {
    font-weight: 300;
    font-size: 1.2rem;
    line-height: 1.55em;
    margin-top: 0;
  }

  .downlevel .d-byline {
    padding-top: 0.8em;
    padding-bottom: 0.8em;
    font-size: 0.8rem;
    line-height: 1.8em;
  }

  .downlevel .section-separator {
    border: none;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
  }

  .downlevel .d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
    padding-top: 1rem;
    padding-bottom: 2rem;
  }


  .downlevel .d-appendix {
    padding-left: 0;
    padding-right: 0;
    max-width: none;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.5);
    padding-top: 40px;
    padding-bottom: 48px;
  }

  .downlevel .footnotes ol {
    padding-left: 13px;
  }

  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
    padding-left: 40px;
    padding-right: 40px;
  }

  @media(min-width: 768px) {
    .downlevel .base-grid,
    .downlevel .distill-header,
    .downlevel .d-title,
    .downlevel .d-abstract,
    .downlevel .d-article,
    .downlevel .d-appendix,
    .downlevel .distill-appendix,
    .downlevel .d-byline,
    .downlevel .d-footnote-list,
    .downlevel .d-citation-list,
    .downlevel .distill-footer,
    .downlevel .appendix-bottom,
    .downlevel .posts-container {
    padding-left: 150px;
    padding-right: 150px;
    max-width: 900px;
  }
  }

  .downlevel pre code {
    display: block;
    border-left: 2px solid rgba(0, 0, 0, .1);
    padding: 0 0 0 20px;
    font-size: 14px;
  }

  .downlevel code, .downlevel pre {
    color: black;
    background: none;
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  .downlevel .posts-list .post-preview {
    color: inherit;
  }



  </style>

  <script type="application/javascript">

  function is_downlevel_browser() {
    if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                   window.navigator.userAgent)) {
      return true;
    } else {
      return window.load_distill_framework === undefined;
    }
  }

  // show body when load is complete
  function on_load_complete() {

    // add anchors
    if (window.anchors) {
      window.anchors.options.placement = 'left';
      window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
    }


    // set body to visible
    document.body.style.visibility = 'visible';

    // force redraw for leaflet widgets
    if (window.HTMLWidgets) {
      var maps = window.HTMLWidgets.findAll(".leaflet");
      $.each(maps, function(i, el) {
        var map = this.getMap();
        map.invalidateSize();
        map.eachLayer(function(layer) {
          if (layer instanceof L.TileLayer)
            layer.redraw();
        });
      });
    }

    // trigger 'shown' so htmlwidgets resize
    $('d-article').trigger('shown');
  }

  function init_distill() {

    init_common();

    // create front matter
    var front_matter = $('<d-front-matter></d-front-matter>');
    $('#distill-front-matter').wrap(front_matter);

    // create d-title
    $('.d-title').changeElementType('d-title');

    // create d-byline
    var byline = $('<d-byline></d-byline>');
    $('.d-byline').replaceWith(byline);

    // create d-article
    var article = $('<d-article></d-article>');
    $('.d-article').wrap(article).children().unwrap();

    // move posts container into article
    $('.posts-container').appendTo($('d-article'));

    // create d-appendix
    $('.d-appendix').changeElementType('d-appendix');

    // flag indicating that we have appendix items
    var appendix = $('.appendix-bottom').children('h3').length > 0;

    // replace footnotes with <d-footnote>
    $('.footnote-ref').each(function(i, val) {
      appendix = true;
      var href = $(this).attr('href');
      var id = href.replace('#', '');
      var fn = $('#' + id);
      var fn_p = $('#' + id + '>p');
      fn_p.find('.footnote-back').remove();
      var text = fn_p.html();
      var dtfn = $('<d-footnote></d-footnote>');
      dtfn.html(text);
      $(this).replaceWith(dtfn);
    });
    // remove footnotes
    $('.footnotes').remove();

    // move refs into #references-listing
    $('#references-listing').replaceWith($('#refs'));

    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      var id = $(this).attr('id');
      $('.d-contents a[href="#' + id + '"]').parent().remove();
      appendix = true;
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
    });

    // show d-appendix if we have appendix content
    $("d-appendix").css('display', appendix ? 'grid' : 'none');

    // localize layout chunks to just output
    $('.layout-chunk').each(function(i, val) {

      // capture layout
      var layout = $(this).attr('data-layout');

      // apply layout to markdown level block elements
      var elements = $(this).children().not('details, div.sourceCode, pre, script');
      elements.each(function(i, el) {
        var layout_div = $('<div class="' + layout + '"></div>');
        if (layout_div.hasClass('shaded')) {
          var shaded_content = $('<div class="shaded-content"></div>');
          $(this).wrap(shaded_content);
          $(this).parent().wrap(layout_div);
        } else {
          $(this).wrap(layout_div);
        }
      });


      // unwrap the layout-chunk div
      $(this).children().unwrap();
    });

    // remove code block used to force  highlighting css
    $('.distill-force-highlighting-css').parent().remove();

    // remove empty line numbers inserted by pandoc when using a
    // custom syntax highlighting theme
    $('code.sourceCode a:empty').remove();

    // load distill framework
    load_distill_framework();

    // wait for window.distillRunlevel == 4 to do post processing
    function distill_post_process() {

      if (!window.distillRunlevel || window.distillRunlevel < 4)
        return;

      // hide author/affiliations entirely if we have no authors
      var front_matter = JSON.parse($("#distill-front-matter").html());
      var have_authors = front_matter.authors && front_matter.authors.length > 0;
      if (!have_authors)
        $('d-byline').addClass('hidden');

      // article with toc class
      $('.d-contents').parent().addClass('d-article-with-toc');

      // strip links that point to #
      $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

      // add orcid ids
      $('.authors-affiliations').find('.author').each(function(i, el) {
        var orcid_id = front_matter.authors[i].orcidID;
        if (orcid_id) {
          var a = $('<a></a>');
          a.attr('href', 'https://orcid.org/' + orcid_id);
          var img = $('<img></img>');
          img.addClass('orcid-id');
          img.attr('alt', 'ORCID ID');
          img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
          a.append(img);
          $(this).append(a);
        }
      });

      // hide elements of author/affiliations grid that have no value
      function hide_byline_column(caption) {
        $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
      }

      // affiliations
      var have_affiliations = false;
      for (var i = 0; i<front_matter.authors.length; ++i) {
        var author = front_matter.authors[i];
        if (author.affiliation !== "&nbsp;") {
          have_affiliations = true;
          break;
        }
      }
      if (!have_affiliations)
        $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

      // published date
      if (!front_matter.publishedDate)
        hide_byline_column("Published");

      // document object identifier
      var doi = $('d-byline').find('h3:contains("DOI")');
      var doi_p = doi.next().empty();
      if (!front_matter.doi) {
        // if we have a citation and valid citationText then link to that
        if ($('#citation').length > 0 && front_matter.citationText) {
          doi.html('Citation');
          $('<a href="#citation"></a>')
            .text(front_matter.citationText)
            .appendTo(doi_p);
        } else {
          hide_byline_column("DOI");
        }
      } else {
        $('<a></a>')
           .attr('href', "https://doi.org/" + front_matter.doi)
           .html(front_matter.doi)
           .appendTo(doi_p);
      }

       // change plural form of authors/affiliations
      if (front_matter.authors.length === 1) {
        var grid = $('.authors-affiliations');
        grid.children('h3:contains("Authors")').text('Author');
        grid.children('h3:contains("Affiliations")').text('Affiliation');
      }

      // remove d-appendix and d-footnote-list local styles
      $('d-appendix > style:first-child').remove();
      $('d-footnote-list > style:first-child').remove();

      // move appendix-bottom entries to the bottom
      $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
      $('.appendix-bottom').remove();

      // hoverable references
      $('span.citation[data-cites]').each(function() {
        var refHtml = $('#ref-' + $(this).attr('data-cites')).html();
        window.tippy(this, {
          allowHTML: true,
          content: refHtml,
          maxWidth: 500,
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        });
      });

      // clear polling timer
      clearInterval(tid);

      // show body now that everything is ready
      on_load_complete();
    }

    var tid = setInterval(distill_post_process, 50);
    distill_post_process();

  }

  function init_downlevel() {

    init_common();

     // insert hr after d-title
    $('.d-title').after($('<hr class="section-separator"/>'));

    // check if we have authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;

    // manage byline/border
    if (!have_authors)
      $('.d-byline').remove();
    $('.d-byline').after($('<hr class="section-separator"/>'));
    $('.d-byline a').remove();

    // remove toc
    $('.d-contents').remove();

    // move appendix elements
    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
    });


    // inject headers into references and footnotes
    var refs_header = $('<h3></h3>');
    refs_header.text('References');
    $('#refs').prepend(refs_header);

    var footnotes_header = $('<h3></h3');
    footnotes_header.text('Footnotes');
    $('.footnotes').children('hr').first().replaceWith(footnotes_header);

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // remove appendix if it's empty
    if ($('.d-appendix').children().length === 0)
      $('.d-appendix').remove();

    // prepend separator above appendix
    $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

    // trim code
    $('pre>code').each(function(i, val) {
      $(this).html($.trim($(this).html()));
    });

    // move posts-container right before article
    $('.posts-container').insertBefore($('.d-article'));

    $('body').addClass('downlevel');

    on_load_complete();
  }


  function init_common() {

    // jquery plugin to change element types
    (function($) {
      $.fn.changeElementType = function(newType) {
        var attrs = {};

        $.each(this[0].attributes, function(idx, attr) {
          attrs[attr.nodeName] = attr.nodeValue;
        });

        this.replaceWith(function() {
          return $("<" + newType + "/>", attrs).append($(this).contents());
        });
      };
    })(jQuery);

    // prevent underline for linked images
    $('a > img').parent().css({'border-bottom' : 'none'});

    // mark non-body figures created by knitr chunks as 100% width
    $('.layout-chunk').each(function(i, val) {
      var figures = $(this).find('img, .html-widget');
      if ($(this).attr('data-layout') !== "l-body") {
        figures.css('width', '100%');
      } else {
        figures.css('max-width', '100%');
        figures.filter("[width]").each(function(i, val) {
          var fig = $(this);
          fig.css('width', fig.attr('width') + 'px');
        });

      }
    });

    // auto-append index.html to post-preview links in file: protocol
    // and in rstudio ide preview
    $('.post-preview').each(function(i, val) {
      if (window.location.protocol === "file:")
        $(this).attr('href', $(this).attr('href') + "index.html");
    });

    // get rid of index.html references in header
    if (window.location.protocol !== "file:") {
      $('.distill-site-header a[href]').each(function(i,val) {
        $(this).attr('href', $(this).attr('href').replace("index.html", "./"));
      });
    }

    // add class to pandoc style tables
    $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
    $('.kable-table').children('table').addClass('pandoc-table');

    // add figcaption style to table captions
    $('caption').parent('table').addClass("figcaption");

    // initialize posts list
    if (window.init_posts_list)
      window.init_posts_list();

    // implmement disqus comment link
    $('.disqus-comment-count').click(function() {
      window.headroom_prevent_pin = true;
      $('#disqus_thread').toggleClass('hidden');
      if (!$('#disqus_thread').hasClass('hidden')) {
        var offset = $(this).offset();
        $(window).resize();
        $('html, body').animate({
          scrollTop: offset.top - 35
        });
      }
    });
  }

  document.addEventListener('DOMContentLoaded', function() {
    if (is_downlevel_browser())
      init_downlevel();
    else
      window.addEventListener('WebComponentsReady', init_distill);
  });

  </script>

  <!--/radix_placeholder_distill-->
  <script src="Hands-on_Ex06_files/header-attrs-2.10/header-attrs.js"></script>
  <script src="Hands-on_Ex06_files/jquery-1.11.3/jquery.min.js"></script>
  <script src="Hands-on_Ex06_files/popper-2.6.0/popper.min.js"></script>
  <link href="Hands-on_Ex06_files/tippy-6.2.7/tippy.css" rel="stylesheet" />
  <link href="Hands-on_Ex06_files/tippy-6.2.7/tippy-light-border.css" rel="stylesheet" />
  <script src="Hands-on_Ex06_files/tippy-6.2.7/tippy.umd.min.js"></script>
  <script src="Hands-on_Ex06_files/anchor-4.2.2/anchor.min.js"></script>
  <script src="Hands-on_Ex06_files/bowser-1.9.3/bowser.min.js"></script>
  <script src="Hands-on_Ex06_files/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="Hands-on_Ex06_files/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
  <!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"Hands-on Exercise 6: Beyond Mapping: Vector-based GIS Analysis","description":"In this hands-on exercise, you will learn how to perform vector-based geoprocessing and GIS analysis by using QGIS.  By the end of this session, you will be able to: (i) prepare GIS layers by using appropriate geoprocessing functions of QGIS, (ii ) delineate trade areas by using appropriate proximity analysis and overlay functions of QGIS, and (iii) analyse trade areas using spatial overlay functions of QGIS.","authors":[],"publishedDate":"2021-09-19T00:00:00.000+08:00"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>Hands-on Exercise 6: Beyond Mapping: Vector-based GIS Analysis</h1>
<!--radix_placeholder_categories-->
<!--/radix_placeholder_categories-->
<p><p>In this hands-on exercise, you will learn how to perform vector-based geoprocessing and GIS analysis by using QGIS. By the end of this session, you will be able to: (i) prepare GIS layers by using appropriate geoprocessing functions of QGIS, (ii ) delineate trade areas by using appropriate proximity analysis and overlay functions of QGIS, and (iii) analyse trade areas using spatial overlay functions of QGIS.</p></p>
</div>


<div class="d-article">
<div class="d-contents d-contents-float">
<nav class="l-text toc figcaption" id="TOC">
<h3>Contents</h3>
<ul>
<li><a href="#introduction">1.0 Introduction</a>
<ul>
<li><a href="#setting-the-scene">1.1 Setting the Scene</a></li>
<li><a href="#framing-the-problem-and-collecting-the-data">1.2 Framing the Problem and Collecting the Data</a></li>
</ul></li>
<li><a href="#data-preparation">2.0 Data Preparation</a>
<ul>
<li><a href="#loading-the-gis-data">2.1. Loading the GIS Data</a></li>
<li><a href="#using-attribute-query-to-select-a-subset-from-a-master-layer">2.2 Using Attribute Query to Select a Subset from a Master layer</a></li>
<li><a href="#using-spatial-query-to-select-a-subset-from-a-master-layer">2.3 Using Spatial Query to Select a Subset from a Master Layer</a></li>
</ul></li>
<li><a href="#trade-area-delineation">3.0 Trade Area Delineation</a>
<ul>
<li><a href="#delineating-ring-trade-areas-using-buffering-tool">3.1 Delineating Ring Trade Areas using Buffering Tool</a></li>
<li><a href="#delineating-trade-areas-using-voronoi-tool">3.2 Delineating Trade Areas using Voronoi Tool</a></li>
</ul></li>
<li><a href="#overlying-analysis">4.0 Overlying Analysis</a>
<ul>
<li><a href="#creating-a-composite-catchment-areas">4.1 Creating a composite catchment areas</a></li>
<li><a href="#selecting-smes-within-the-composite-trade-areas">4.2 Selecting SMEs within the Composite Trade Areas</a></li>
</ul></li>
<li><a href="#preparing-a-choropleth-map">5.0 Preparing a Choropleth map</a></li>
</ul>
</nav>
</div>
<h2 id="introduction">1.0 Introduction</h2>
<p>A trade area is the geographic area from which a business draws its customers. The size of a trade area depends on the variety of goods and services offered in the community and its proximity to competing retail markets. In most cases, consumers are willing to travel further to purchase high order goods, such as automobiles, furniture, recreational vehicles, and specialty items than they are to purchase lower order goods, such as clothing, drugs, groceries and gasoline.</p>
<p>Trade area analysis is a methodology, process or technique that provides a basis for understanding, visualizing and quantifying the extent and characteristics of known or approximated trade areas. It has been used by businesses to gain better understanding on the geographic extent and characteristics of business patronage, to assess business performance spatially, to perform competitive analysis, to evaluate market penetration and to identify market gap. Prior to GIS age, trade area analysis was a very time-consuming process. A simple trade area study for a retail operation can easily take more than six months or a year to complete. Today, with appropriate and readily available GIS data and open source GIS such as QGIS, it is possible to complete a trade area analysis within a week.</p>
<p>In this exercise, you will learn how to use the GIS analysis functions such as buffering, overlaying, voronoi diagram to delineate trade areas of a retail business. You will also learn how to use appropriate GIS analyse and mapping techniques to analyse and visualize the potential customers of these trade areas.</p>
<h3 id="setting-the-scene">1.1 Setting the Scene</h3>
<p>XBS is a well established local bank. It has a total of 30 branches scatter around the country. The bank is planning to launch a special low interest loan programme to help small- and medium-scale enterprises (SME) to improve the productivity of their workers. Before the scheme is launched, Richard Lim, the Senior Vice President of XBS Retail Banking would like to find out the numbers of SMEs located within the trade areas of XBS branches.</p>
<h3 id="framing-the-problem-and-collecting-the-data">1.2 Framing the Problem and Collecting the Data</h3>
<p>Three GIS data are available for this study. They are:</p>
<ul>
<li>Locations of Banking facilities and their associated information (i.e. Banking)</li>
<li>Location SME and their associated information (i.e. SME)</li>
<li>Outline map of Singapore (i.e. CoastalOutline)</li>
</ul>
<p>These dataset can be found in the <code>Hands-on_Ex06.zip</code>. You are required to download them and save into your local drive. Throughout this hands-on exercise, we will assume that these GIS data and other derived GIS data are stored in the <code>\SMT201\Hands-on_Ex06</code> sub-folder of your local drive.</p>
<h2 id="data-preparation">2.0 Data Preparation</h2>
<h3 id="loading-the-gis-data">2.1. Loading the GIS Data</h3>
<p>Before you can start to perform any analysis, you need to load all the appropriate GIS data into QGIS.</p>
<blockquote>
<p>DIY: Use the skills you learned from last lesson, launch QGIS and load all the GIS files in the SHPFiles sub-folder into QGIS.</p>
</blockquote>
<h3 id="using-attribute-query-to-select-a-subset-from-a-master-layer">2.2 Using Attribute Query to Select a Subset from a Master layer</h3>
<p>The Banking layer consists of locations of banking facilities such as ATM, AXM, SAM and branches for several banks. We are only interested on bank branches belong to XBS. In this section, you will learn how to extract a subset of dataset from a master dataset using GIS query function.</p>
<p>Before you can perform attribute query, you need to examine the Banking layer careful and to identify the appropriate field and object name (s) to query.</p>
<ul>
<li>At <strong>Browser</strong> pane, right-click on <code>Banking</code>.</li>
<li>From the context menu, select <strong>Open Attribute Table</strong>.</li>
</ul>
<p>The Attribute Table window appears.</p>
<p><img src="img/image1.jpg" /></p>
<p>Notice that a total of 2908 rows and each row represents a geospatial point object, in this case a particular banking facility. For example, the first record represents a SAM machine.</p>
<p>If you scroll downwards, you will find that under the <em>DESC</em> field there are a collection of records with a description of <em>XBS</em>. This is actually the <em>XBS</em> branches.</p>
<p>Next, you will extract all the <em>XBS</em> branches using the query function of QGIS.</p>
<ul>
<li>At the Attribute Table window click on Select feature using an expression icon.</li>
</ul>
<p><img src="img/image2.jpg" style="width:50.0%" /></p>
<p>The <strong>Selection by expression</strong> dialog window appears.</p>
<p><img src="img/image3.jpg" style="width:70.0%" /></p>
<ul>
<li>At the upper left corner of the window, click on the <strong>Expression</strong> tab.</li>
<li>For <strong>Search</strong>, click on <strong>Fields and Values</strong>.</li>
<li>Scroll downwards until <em>DESC</em> field appears.</li>
<li>Double click on <em>DESC</em> field.</li>
</ul>
<p>Notice that the syntax “DESC” has been entered on the Expression pane.</p>
<p><img src="img/image4.jpg" style="width:40.0%" /></p>
<p>Now, you are going to enter the expression.</p>
<ul>
<li>From the <strong>Expression</strong> pane, click on <strong>=</strong> icon.</li>
</ul>
<p>Next, you are going complete the query statement by providing the field value.</p>
<ul>
<li>At the <strong>Values</strong> pane, click on the all unique button.</li>
</ul>
<p>Your screen should look similar to the figure below.</p>
<p><img src="img/image5.jpg" style="width:30.0%" /></p>
<ul>
<li>Double-click on <em>XBS</em>.</li>
</ul>
<p>The query statement in the Expression pane should look similar to the figure below.</p>
<p><img src="img/image6.jpg" style="width:25.0%" /></p>
<p>Next, you will execute the query.</p>
<ul>
<li>Click on <strong>Select Features</strong> button.</li>
<li>Click on <strong>Close</strong> button.</li>
</ul>
<p>You will return to <strong>Attribute Table</strong> window.</p>
<p>If you scroll downwards now, you will notice that all records with XBS in DESC field are highlighted as shown in the figure below. This shows that banking facilities which are XBS branches have been selected.</p>
<p><img src="img/image7.jpg" /></p>
<p>Now, you are going to save these selected records including their corresponding spatial objects into a new GIS data file. This GIS data will be stored in <strong>GeoPackage</strong> format.</p>
<blockquote>
<p>Use the steps you had learned from previous hands-on exercise, save the output in Geopackage format. Name the newly created GIS layer <code>XBS_branches</code>. Symbolising the <code>XBS_branches</code> using appropriate maker. Lastly, remove <code>Banking</code> GIS layer from the <strong>Browser</strong> pane because you no longer need it anymore.</p>
</blockquote>
<p>Your screen should look similar to the screenshot below after the customization.</p>
<p><img src="img/image8.jpg" /></p>
<h3 id="using-spatial-query-to-select-a-subset-from-a-master-layer">2.3 Using Spatial Query to Select a Subset from a Master Layer</h3>
<p>It is not unusual that the original dataset provided for an analysis are full of dirty data. It is important for an analyst to review the datasets carefully and to exclude these data from the analysis. In this section, you will learn how to use the Spatial Query function of QGIS to interactive select several dirty data and then delete them from the <code>SME</code> GIS data layer.</p>
<p>Let us examine the spatial extend of the <code>SME</code> layer.</p>
<ul>
<li>At <strong>Browser</strong> panel, right-click on <code>SME</code>.</li>
<li>Select <strong>Zoom to Layer(s)</strong> from the context menu.</li>
</ul>
<p>Notice that there are a collection of points located at the lower left of the Map View window. Obviously, this is not logical because all the points representing the locations of the SMEs should fall within the boundary Singapore island.</p>
<p><img src="img/image9.jpg" /></p>
<p>This problem happens mainly because some SMEs were not geocoded properly.</p>
<p>Next, you will learn how to use the spatial selection function of QGIS to select all the SMEs fall within the national boundary and save them in a new GIS data file. Again, keep this data in GeoPackage format.</p>
<ul>
<li>From the icon bar, click on the drop-down list next to Selection icon.</li>
</ul>
<p><img src="img/image10.jpg" style="width:35.0%" /></p>
<ul>
<li>Select <strong>Select Feature(s)</strong> from the drop-down list.</li>
<li>At <strong>Browser</strong> panel, click on SME to make sure that it is the active layer.</li>
<li>Click and drape to form a rectangle to cover all the points fall within Singapore island.</li>
</ul>
<p>Your screen should look similar to the screenshot below.</p>
<p><img src="img/image11.jpg" /></p>
<ul>
<li>Next, release the mouse.</li>
</ul>
<p>Notice that all the selected points will be highlighted.</p>
<p><img src="img/image12.jpg" /></p>
<blockquote>
<p>DIY: Use the steps you had learned from previous section, save the output in GeoPackage format. Name the newly created GIS layer <code>SMEs</code>. Symbolising the <code>SMEs</code> using appropriate maker. Lastly, remove <code>SME</code> layer from the Browser panel because you no longer need it anymore.</p>
</blockquote>
<p>Your screen should look similar to the screenshot below.</p>
<p><img src="img/image13.jpg" /></p>
<h2 id="trade-area-delineation">3.0 Trade Area Delineation</h2>
<h3 id="delineating-ring-trade-areas-using-buffering-tool">3.1 Delineating Ring Trade Areas using Buffering Tool</h3>
<p>The buffer zone method is one of the quickest and simplest procedures for delineating a catchment area, representing the area by means of one or more concentric circles with the location at their centre (core, close and outer area, see Fig. 1).</p>
<p><img src="img/image14.jpg" style="width:40.0%" /></p>
<p>In this method, each zone is determined by the radius of the buffer zone measured ‘as the crow flies’. Traditionally, delineating trade areas for a collection retail outlets such as bank branches can be rather time-consuming. With GIS, trade areas can be delineated using the buffering tool of QGIS.</p>
<p>In this section, you are going to create a 1km buffer around the XBS bank branches.</p>
<ul>
<li>From the menu bar, select <strong>Vector</strong> -&gt; <strong>Geoprocessing Tools</strong> -&gt; <strong>Buffer..</strong> .</li>
</ul>
<p>The <strong>Buffer</strong> dialog window appears.</p>
<ul>
<li>For <strong>Input layer</strong>, select <code>XBS_branches</code> from the drop-down list.</li>
<li>For <strong>Distance</strong>, type <em>1000</em>. (Do you know why?)</li>
<li>For <strong>Segments</strong>, type <em>100</em>. (Do you know why?)</li>
</ul>
<p>Keep the rest of setting as default.</p>
<p>Your screen should look similar to the screenshot below.</p>
<p><img src="img/image15.jpg" /></p>
<p>Next, you will run the buffering process.</p>
<ul>
<li>Click on <strong>Run</strong> button.</li>
</ul>
<p>When the geoprocessing process completed, the Buffer dialog window will be updated with the geoprocessing log as shown in the screenshot below.</p>
<p><img src="img/image16.jpg" style="width:50.0%" /></p>
<blockquote>
<p>Good Practice: Always read the output log carefully before moving to the next step.</p>
</blockquote>
<p>Since the buffering process is completed without any error, you can close the Buffer dialog window now.</p>
<p>• From <strong>Buffer</strong> dialog window, click on <strong>Close</strong> button.</p>
<p>Notice that a new GIS layer called <code>Buffered</code> has been added into the Browser panel.</p>
<p>By default, the output is stored in the memory as shown in the screenshot below.</p>
<p><img src="img/image17.jpg" /></p>
<p>In order to avoid losing the analysis result, it is wiser for us to save buffering output in local drive.</p>
<blockquote>
<p>DIY: Using the steps you had learned in previous hands-on exercise, save the output buffering layer into GeoPackage format. Name the newly create layer <code>Overlapping_buffer_1km</code>. Also, don’t forget to remove the temporary output layer!</p>
</blockquote>
<p>Your screen should look similar to the screenshot below.</p>
<p><img src="img/image18.jpg" /></p>
<p>A close examination of the screenshot above, we will notice that there are several overlapping buffers especially at the down-town area.</p>
<p>Next, you will delineate dissolved buffers to overcome the overlapping buffers problem.</p>
<blockquote>
<p>DIY: Repeat the steps above to delineate a new set of trade areas using the buffering tool. Use the configurations similar to the steps above except check the <strong>Dissolve results</strong>. Name the output GeoPackage layer as <code>Dissolved_buffer_1km</code>. Also, don’t forget to remove the temporary output layer!</p>
</blockquote>
<p>Your result should look similar to the screenshot below.</p>
<p><img src="img/image19.jpg" /></p>
<h3 id="delineating-trade-areas-using-voronoi-tool">3.2 Delineating Trade Areas using Voronoi Tool</h3>
<p>Voronoi polygons, also known as <a href="http://h2g2.com/dna/h2g2/A901937">Thiessen polygons</a>, represent areas of influence around a set of focal points (or retail outlets as in this study). They can be generated based on a set of points as centroid for the polygons. Voronoi polygons have been so constructed that each polygon contains exactly one of the outlets and that any location with a Voronoi polygon is closer to that point outlet (centroid) than to any other point outlets.</p>
<p>This polygon structure is constructed by using the perpendicular bisectors between neighbouring points (in this case, retail outlets) as the boundaries of the resulting Voronoi polygons.</p>
<p><img src="img/image20.jpg" style="width:50.0%" /></p>
<ul>
<li>From the menu bar, select <strong>Vector</strong> -&gt; <strong>Geometric Tools</strong> -&gt; <strong>Voronoi Polygon</strong>.</li>
</ul>
<p><strong>Voronoi Polygons</strong> dialog window appears.</p>
<ul>
<li>For <strong>Input layer</strong>, select <code>XBS_branches</code> from the drop-down list.</li>
<li>For <strong>Buffer region</strong>, type 100. (Do you know why?)</li>
</ul>
<p>Your screen should look similar to the screenshot below.</p>
<p><img src="img/image21.jpg" style="width:50.0%" /></p>
<p>Next, you will run the geoprocess.</p>
<ul>
<li>At <strong>Voronoi Polygons</strong> dialog window, click on <strong>Run</strong> button.</li>
</ul>
<p>When the voronoi polygon computation process completed, you screen should look similar to the screenshot below.</p>
<p><img src="img/image22.jpg" /></p>
<p>You can close Voronoi Polygons dialog window now.</p>
<ul>
<li>From <strong>Voronoi Polygons</strong> dialog window, click on <strong>Close</strong> button.</li>
</ul>
<blockquote>
<p>DIY: Using the steps you had learned from previous section, save the output as GeoPackage layer. Name the output file <code>Voronoi_TAs</code>. Remember to remove the temporary layer from Browser pane.</p>
</blockquote>
<p>Your screen should look similar to the screenshot below.</p>
<p><img src="img/image23.jpg" /></p>
<h2 id="overlying-analysis">4.0 Overlying Analysis</h2>
<p>In this section, you will learn how to create a composite catchment area drawing by using topological overlay function. You will use the Dissolved buffer for bank branch drawing as the input drawing and Voronoi area for bank branch as the overlay drawing. The topology overlay operator used will be <strong>Intersect</strong>.</p>
<h3 id="creating-a-composite-catchment-areas">4.1 Creating a composite catchment areas</h3>
<ul>
<li>From the main menu, select <strong>Vector</strong> -&gt; <strong>Geoprocessing Tools</strong> -&gt; <strong>Intersection</strong>.</li>
</ul>
<p>The Intersection dialog window appears.</p>
<ul>
<li>For <strong>Input layer</strong>, select <code>Voronoi_TAs</code> from the drop-down list.</li>
<li>For <strong>Intersection</strong> layer, select <code>Dissolved_buffer_1km</code> from the drop-down list.</li>
</ul>
<p>Your screen should look similar to the screenshot below.</p>
<p><img src="img/image24.jpg" /></p>
<ul>
<li>Click on <strong>Run</strong> to perform the overlaying process.</li>
</ul>
<p>After the <strong>Intersection</strong> computation completed, close the dialog window.</p>
<ul>
<li>From the <strong>Intersection</strong> dialog window, click on <strong>Close</strong> button.</li>
</ul>
<blockquote>
<p>DIY: Using the steps you had learned from previous section, save the newly computed layer as Geopackage layer. Name the output GIS layer as <code>Composite_TAs</code>.</p>
</blockquote>
<p>Your screen should look similar to the screenshot below.</p>
<p><img src="img/image25.jpg" /></p>
<h3 id="selecting-smes-within-the-composite-trade-areas">4.2 Selecting SMEs within the Composite Trade Areas</h3>
<p>Now you are going to select SMEs fall within the composite catchment areas of XBS bank branches.</p>
<ul>
<li>From the menu bar, select <strong>Vector</strong> -&gt; <strong>Analysis Tools</strong> -&gt; <em>Count Points in Polygon</em>.</li>
</ul>
<p><strong>Count Points in Polygon</strong> dialog window appears.</p>
<ul>
<li>For <strong>Polygons</strong>, select <em>Composite_TAs</em> from the drop-down list.</li>
<li>For <strong>Points</strong>, select <strong>SMEs</strong> from the drop-down list.</li>
<li>For <strong>Count field name</strong>, you can either provide your own name or keep the default.</li>
</ul>
<p>Your screen should look similar to the screenshot below.</p>
<p><img src="img/image26.jpg" /></p>
<p>Wne you are ready to run the process,</p>
<ul>
<li>Click on <strong>Run</strong> button.</li>
</ul>
<p>When the computation completed, the Log report appears.</p>
<p>Notice that a new temporary GIS layer called COUNT has beenn added on the Browser panel.</p>
<ul>
<li>Click on <strong>Close</strong> button to close the dialog window.</li>
</ul>
<blockquote>
<p>DIY: Using the steps you had learned from previous section, save the output as GeoPackage layer. Name the output file <code>Composite_TAs_SMEs</code>. Remember to remove the temporary layer from Browser panel.</p>
</blockquote>
<p>If you compare <code>Composite_TAs</code> and <code>Composite_TAs_SMEs</code> layers visually, both of them look very similar. However, if you compare their attribute tables you will notice that a new column called NUMPOINTS has been added in the attribute table of <code>Composite_TAs_SMEs</code>.</p>
<p><img src="img/image27.jpg" /></p>
<p>The <em>NUMPOINTS</em> field is populated with numbers. Actually, these numbers represent total number of SMEs fall within the trade areas.</p>
<h2 id="preparing-a-choropleth-map">5.0 Preparing a Choropleth map</h2>
<p>Choropleth mapping involves the symbolization of enumeration units, such as countries, provinces, states, counties or census units, using area patterns or graduated colors. For example, a crime analyst may need to use a choropleth map to portray the spatial patterns of household income distribution of Singapore by DGP (Development Guide Plan) Subzone.</p>
<p>The major concerns of choropleth mapping are the method of data classification, areal symbolization, and the overall map design. General rules for choropleth mapping are as follows:</p>
<ul>
<li>Use data that are assumed to be uniform throughout an enumeration unit.</li>
<li>Because enumeration units vary in size, do not map totals. Use derived values, such as ratios, rates, proportions, or percentages.<br />
</li>
<li>The best classing method depends on the data, the map reader and the purpose of the map.</li>
<li>When classifying data, the full range of data must be included and class values should not overlap. No more than six classes are recommended.</li>
<li>Class symbols (i.e. colors or patterns) must be easily distinguishable.</li>
</ul>
<blockquote>
<p>DIY: Use the steps you had learned from previous lesson, prepare a choropleth map showing the number of SMEs fall within the trade areas of XBS branches.</p>
</blockquote>
<p>Your screen should look similar to the screenshot below.</p>
<p><img src="img/image28.jpg" /></p>
<div class="layout-chunk" data-layout="l-body">

</div>
<div class="sourceCode" id="cb1"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>


<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom"></div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<!--/radix_placeholder_navigation_after_body-->

</body>

</html>
